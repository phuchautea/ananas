$(document).ready(function() {
    var url = (typeof ajaxUrl !== "undefined") ? ajaxUrl : 'https://ananasvn.com/staging/wp-admin/admin-ajax.php';
    var dummyData = {
        "instagram": [{
                "id": "1998662575868570633",
                "linkInstagram": "https://www.instagram.com/p/Bu8rQX8g2wJ",
                "image": "https://instagram.fsgn2-3.fna.fbcdn.net/vp/0e2771140500d7074d77685a4bcc2e5d/5D64AA78/t51.2885-15/fr/e15/s1080x1080/52793514_429586510917041_562444866661861744_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananasu00aeufe0f",
                "avatar_author": "https://instagram.fsgn2-3.fna.fbcdn.net/vp/aadee815c1df856560364195f3cb3303/5D56F68F/t51.2885-19/s150x150/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>Any day is a perfect day for shoe shopping at Ananas store ^^. #ananasvn #DiscoverYou #DiscoverMore #DiscoverAnanas #Store #Lifestyle</p>",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http://ananasvn.com/staging/product-detail/a20164/",
                        "productImage": "http://ananasvn.com/staging/wp-content/uploads/A20164-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http://ananasvn.com/staging/product-detail/a20165/",
                        "productImage": "http://ananasvn.com/staging/wp-content/uploads/A20165-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1989987225837001397",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/Bud2tanlFq1",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/a51f6a323514745d17bd743fa8dbde22\\/5D5F2C9C\\/t51.2885-15\\/e35\\/52422522_177162513265765_3542490607715739795_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas Time To Cop \\ud83d\\udd1c\\ud83d\\udd1d",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/0a8733cc1a6ece50f1717c4153cdc57e\\/5D6890AE\\/t51.2885-19\\/s150x150\\/46618663_217049515900379_730632189691035648_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>ANANAS BASEBALL CAP<br \\/>\nColorway: Black<br \\/>\nMaterial: 100% Cotton<br \\/>\nLink in bio to add your calendar now:<br \\/>\nRelease date: 15.03.2019<br \\/>\nPrice: 225.000 VND-275.000 VND ~ 10$-12$<br \\/>\nCOP now: update soon<br \\/>\n#ananas_release #ananasvn #timetocop #ananastimetocop #DiscoverYOU #DiscoverMORE #DiscoverAnanas #baseballcap #baseballcapcollection #copordrop #madeinVietNam #ananas_calendar<\\/p>\n",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20164\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20164-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20165\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20165-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Navy",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20166\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20166-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Black",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20167\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20167-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1987787053534745109",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/BuWCcsfDxIV",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/caeb74a3b9555d7a2d77947a68d9f3f7\\/5D633D89\\/t51.2885-15\\/fr\\/e15\\/s1080x1080\\/52703039_1211238445710556_6350726712070395302_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas\\u00ae\\ufe0f",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/aadee815c1df856560364195f3cb3303\\/5D56F68F\\/t51.2885-19\\/s150x150\\/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>Retro style inspired by The Military. #ananasvn #DiscoverYou #DiscoverMore #DiscoverAnanas #Vintas #TheMilitary #Arona #HighTop #LifeStyle #StreetStyle #CasualStyle #VintageStyle #Casual #Sneaker #footwear #streetwear #vietnamsneaker #LocalBrand #vietnamlocalbrand #vintage #photooftheday #instamood #instadaily<\\/p>\n",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20164\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20164-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Navy",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20166\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20166-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20165\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20165-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Black",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20167\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20167-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1987059848269775107",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/BuTdGdzj8ED",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/c9b635f3011bda1300516411f31c3b3d\\/5D778CD6\\/t51.2885-15\\/fr\\/e15\\/s1080x1080\\/51694383_377159186201266_2436927435922510492_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas\\u00ae\\ufe0f",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/aadee815c1df856560364195f3cb3303\\/5D56F68F\\/t51.2885-19\\/s150x150\\/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>When was the last time you picked up a fresh pair of Vintas? #ananasvn #DiscoverYou #DiscoverMore #DiscoverAnanas #Vintas #TheMilitary #Antique Bronze #HighTop #LifeStyle #StreetStyle #CasualStyle #VintageStyle #Casual #Sneaker #footwear #streetwear #vietnamsneaker #LocalBrand #vietnamlocalbrand #vintage #photooftheday #instamood #instadaily<\\/p>\n",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20165\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20165-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Navy",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20166\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20166-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Black",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20167\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20167-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20164\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20164-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1986331449833501226",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/BuQ3e35gzIq",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/7ed79704688b984f7907eab622e66f1c\\/5D556598\\/t51.2885-15\\/fr\\/e15\\/s1080x1080\\/52987467_148663222814861_7492885723465174405_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas\\u00ae\\ufe0f",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/aadee815c1df856560364195f3cb3303\\/5D56F68F\\/t51.2885-19\\/s150x150\\/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>Express yourself with Vintas \\u201cThe Military\\u201d pack now. #ananasvn #DiscoverYou #DiscoverMore #DiscoverAnanas #Vintas #TheMilitary #DarkEarth #Arona #HighTop #LifeStyle #StreetStyle #CasualStyle #VintageStyle #Casual #Sneaker #footwear #streetwear #vietnamsneaker #LocalBrand #vietnamlocalbrand #vintage #photooftheday #instamood #instadaily<\\/p>\n",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "Navy",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20166\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20166-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20165\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20165-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20164\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20164-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Black",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20167\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20167-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1985610210673681844",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/BuOTfdll-W0",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/a55cee901dcfef53c372609f182e7ecc\\/5D7361B1\\/t51.2885-15\\/fr\\/e15\\/p1080x1080\\/51226186_177341153237721_2475122951651818907_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas\\u00ae\\ufe0f",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/aadee815c1df856560364195f3cb3303\\/5D56F68F\\/t51.2885-19\\/s150x150\\/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>Weekends are for kicking back in Basas \\u201cSimple Life\\u201d Lowtop \\u2013 Snow White. #DiscoverYou #DiscoverMore #DiscoverAnanas #Basas #SimpleLifePack #SimpleLife #SnowWhite #LowTop #LifeStyle #StreetStyle #Casual #CasualStyle #Sneaker #footwear #streetwear #vietnamsneaker #LocalBrand #vietnamlocalbrand #basic #photooftheday #instamood #instadaily<\\/p>\n",
                "related_products": [{
                        "productName": "Ananas High Top",
                        "productColor": "Cloudburst",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20165\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20165-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20164\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20164-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Black",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20167\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20167-500x500.jpg"
                    },
                    {
                        "productName": "Ananas High Top",
                        "productColor": "Navy",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20166\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20166-500x500.jpg"
                    },
                    {
                        "productName": "Ananas Low Top",
                        "productColor": "White",
                        "linkToBuy": "http:\\/\\/ananasvn.com\\/staging\\/product-detail\\/a20168\\/",
                        "productImage": "http:\\/\\/ananasvn.com\\/staging\\/wp-content\\/uploads\\/A20168-500x500.jpg"
                    }
                ]
            },
            {
                "id": "1984885731655387562",
                "linkInstagram": "https:\\/\\/www.instagram.com\\/p\\/BuLuw57D4mq",
                "image": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/daaed9522aa310ac02d1b7e2ede47ace\\/5D709A03\\/t51.2885-15\\/fr\\/e15\\/s1080x1080\\/51413290_1149606655209330_4933293366906483979_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "author_instagram": "Ananas\\u00ae\\ufe0f",
                "avatar_author": "https:\\/\\/instagram.fsgn2-3.fna.fbcdn.net\\/vp\\/aadee815c1df856560364195f3cb3303\\/5D56F68F\\/t51.2885-19\\/s150x150\\/38520425_308331816673580_8391553230873559040_n.jpg?_nc_ht=instagram.fsgn2-3.fna.fbcdn.net",
                "caption_instagram": "<p>Add a pop of color to your spring wardrobe. #ananasvn #DiscoverYou #DiscoverMore #DiscoverAnanas #Urbas #BeautyBoxPack #LodenGreen #Lowtop #LifeStyle #StreetStyle #Casual #Casualstyle #Sneaker #footwear #streetwear #vietnamsneaker #LocalBrand #vietnamlocalbrand #Urban #photooftheday #instamood #instadaily<\\/p>\n",
                "related_products": []
            }
        ],
        "instagram_bk": [{
                "id": "1982003722826159011",
                "linkInstagram": "https://www.instagram.com/p/BuBfeKCjhOj",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/aca863c3fa3d2ecd7338a580c56e4abc/5D2BEB1F/t51.2885-15/fr/e15/p1080x1080/51313342_119724732435602_3395885740676141031_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1981304306988952566",
                "linkInstagram": "https://www.instagram.com/p/Bt_AcUSByv2",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/832a49f3e32140a92fe080b30e9cbf99/5D4AC531/t51.2885-15/fr/e15/s1080x1080/52024249_2222668357972990_8377920428861930336_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1980518914404323852",
                "linkInstagram": "https://www.instagram.com/p/Bt8N3WcAxIM",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/40659a18051d1fcd3678af7794a116ef/5D2FB450/t51.2885-15/fr/e15/s1080x1080/51117058_2514136935510503_5964219221268914600_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1980518613261570080",
                "linkInstagram": "https://www.instagram.com/p/Bt8Ny9-gVAg",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/d7174b2784e489a68265dba3ceec5430/5D2A8174/t51.2885-15/fr/e15/s1080x1080/51023163_2013457288955311_6432198055231728394_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1979812705657242651",
                "linkInstagram": "https://www.instagram.com/p/Bt5tSqSgUQb",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/4851b2eb83fb2110669d17c2891c0083/5D40446E/t51.2885-15/fr/e15/s1080x1080/51091475_1154430734737075_448089280602059973_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1979118977657482636",
                "linkInstagram": "https://www.instagram.com/p/Bt3Pjlvgi2M",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/0f157755eef428e71ac30ec235faf839/5D2A7731/t51.2885-15/fr/e15/s1080x1080/52649396_396169907784248_5308253105310527651_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1978936476210528764",
                "linkInstagram": "https://www.instagram.com/p/Bt2mD2Bl4H8",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/ad9f6fc46156ecbaae5e4fb7258ae4ea/5D4A626C/t51.2885-15/e35/50521885_1994154924046113_4231203734424309105_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1978766481831336862",
                "linkInstagram": "https://www.instagram.com/p/Bt1_aGbAZue",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/30734f175a67056aab0a82b8f97be3f9/5D3925C0/t51.2885-15/e35/50811804_573868006451980_4450175271854497554_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1978372022832520063",
                "linkInstagram": "https://www.instagram.com/p/Bt0lt92gNt_",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/0739b53c6586b95f5b758e6c1b017eee/5D361B71/t51.2885-15/fr/e15/s1080x1080/51011186_379949722558722_288181491800025282_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1975223014559831307",
                "linkInstagram": "https://www.instagram.com/p/BtpZt3XA9UL",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/0279dc9d43eec9be92c641067815cd02/5D4B929B/t51.2885-15/e35/50858224_2103786706578269_218472882605973779_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1974543248240377682",
                "linkInstagram": "https://www.instagram.com/p/Btm_J9pA39S",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/b822eacb8706aed49d5e5ebed6ac8c5b/5D2EBC8A/t51.2885-15/e35/51579887_2347392391938882_5507766605227606094_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            },
            {
                "id": "1968983627899600433",
                "linkInstagram": "https://www.instagram.com/p/BtTPC1tg_4x",
                "image": "https://instagram.fsgn2-2.fna.fbcdn.net/vp/0a99a22df125cb6a5d3799f59a61d2d7/5D39795D/t51.2885-15/fr/e15/p1080x1080/49329050_1237617223062743_1447749693224247349_n.jpg?_nc_ht=instagram.fsgn2-2.fna.fbcdn.net"
            }
        ],
        "news": [{
                "id": 5184,
                "linkNews": "https://ananasvn.com/why-do-we-use-it-3/",
                "image": "https://ananasvn.com/wp-content/uploads/image_590_325.jpg",
                "title": "WHAT'S NEEDED?",
                "excerpt": "Lorem ipsum chocolate brown canvas rubber synthetic leather\r\nOther names, brands, and logos may be claimed as the property of others.\r\nThis kit contains an Intel* NUC board and enclosure"
            },
            {
                "id": 3322,
                "linkNews": "https://ananasvn.com/what-is-lorem-ipsum-3/",
                "image": "https://ananasvn.com/wp-content/uploads/image_590_325.jpg",
                "title": "WHAT'S NEEDED?",
                "excerpt": "Lorem ipsum chocolate brown canvas rubber synthetic leather\r\nOther names, brands, and logos may be claimed as the property of others.\r\nThis kit contains an Intel* NUC board and enclosure"
            },
            {
                "id": 3312,
                "linkNews": "https://ananasvn.com/what-is-lorem-ipsum-2/",
                "image": "https://ananasvn.com/wp-content/uploads/image_590_325.jpg",
                "title": "WHAT'S NEEDED?",
                "excerpt": "Lorem ipsum chocolate brown canvas rubber synthetic leather\r\nOther names, brands, and logos may be claimed as the property of others.\r\nThis kit contains an Intel* NUC board and enclosure"
            },
            {
                "id": 3191,
                "linkNews": "https://ananasvn.com/where-does-it-come-from/",
                "image": "https://ananasvn.com/wp-content/uploads/image_590_325.jpg",
                "title": "WHAT'S NEEDED?",
                "excerpt": "Lorem ipsum chocolate brown canvas rubber synthetic leather\r\nOther names, brands, and logos may be claimed as the property of others.\r\nThis kit contains an Intel* NUC board and enclosure"
            }
        ]
    };

    //------------------------------------------------------------------------------------------------------------

    $('.prd-search input[type=radio][name=group]').change(function() {
        window.location.replace($(this).attr('data-link'));
    });

    //------------------------------------------------------------------------------------------------------------  
    var popUpIns, curIdIns;
    if ($('.templatePopupIns').length) {
        $('.templatePopupIns').slick({
            infinite: false,
            speed: 300,
            autoplay: false,
            slidesToShow: 1,
            slidesToScroll: 1,
            centerMode: false,
            adaptiveHeight: true,
            arrows: true
        });
        // Pop up Instagram
        popUpIns = new jBox('Modal', {
            id: 'popUpInsID',
            addClass: 'jBox-Instagram',
            overlay: true,
            createOnInit: true,
            content: $('.templatePopupIns'),

            onCreated: function() {
                // this.wrapper.find('.jBox-closeButton').html('<img src="images/icon_close.png">');
                this.wrapper.find('.jBox-closeButton').html('<img src="/wp-content/themes/ananas/fe-assets/images/icon_close.png">');
            }
        });

        RegisterClickEvent();

        $('.templatePopupIns').on('beforeChange', function(event, slick, currentSlide, nextSlide) {
            if ((slick.slideCount == nextSlide + 1) && (!popUpInsVar.isLastPage)) {
                AjaxHomeLoadMorePopupIns();
            }
            // console.log('max: ' + slick.slideCount + '  next:' + nextSlide);
            // console.log(slick);
        });
    }

    function RegisterClickEvent() {
        $('.home-instagram .left .instagram-item a').click(function() {
            curIdIns = $(this).attr("data-id") || 0;
            popUpIns.open({
                ignoreDelay: true
            });
            $('.templatePopupIns').slick('slickGoTo', curIdIns, true);
        });
    }

    //------------------------------------------------------------------------------------------------------------
    var popUpInsVar = {
        isLoading: false,
        isLastPage: false,
        limitIns: 9,
        currentPage: 2
    };

    function AjaxHomeLoadMorePopupIns() {
        popUpInsVar.isLoading = true;
        $('.loading-filter').show();

        var dataFilter = GetDataHomeLoadMore(popUpInsVar.currentPage, popUpInsVar.limitIns, 0);

        $.ajax({
            type: 'GET',
            url: url,
            global: false,
            data: dataFilter,
            success: function(response) {
                //Do Something              
                // if (response.instagram.length > 0 && $('#popUpInsID').css('display') == 'block')
                if (response.instagram.length > 0) {
                    for (let i = 0; i < response.instagram.length; i++) {
                        AddItemPopUpIns(response.instagram[i]);
                    }
                    popUpInsVar.currentPage++;
                    popUpInsVar.isLastPage = false;
                } else {
                    popUpInsVar.isLastPage = true;
                }

                if (!popUpInsVar.isLastPage) {
                    $('.loading-filter').show();
                }
                $('.loading-filter').hide();
                popUpInsVar.isLoading = false;
            },
            error: function(xhr) {
                // console.log(popUpInsVar.isLastPage + ': ' + popUpInsVar.currentPage);
                // Do Something to handle error
                // if (dummyData.instagram.length > 0 && $('#popUpInsID').css('display') == 'block')              
                // if (dummyData.instagram.length > 0)
                // {
                //     for (let i = 0; i < dummyData.instagram.length; i++) {
                //       AddItemPopUpIns(dummyData.instagram[i]);
                //     }
                //     popUpInsVar.currentPage++;
                //     popUpInsVar.isLastPage = false;
                // }
                // else
                // {
                //     popUpInsVar.isLastPage = true;
                // }

                // if (popUpInsVar.currentPage > 3)
                // {
                //     popUpInsVar.isLastPage = true;
                // }

                // if (!popUpInsVar.isLastPage)
                // {
                //     $('.loading-filter').show();
                // }
                $('.loading-filter').hide();
                popUpInsVar.isLoading = false;
            }
        });
    }

    //------------------------------------------------------------------------------------------------------------  

    function AddItemPopUpIns(item) {
        var content = `<div class="row">
                          <div class="col-xs-12 col-sm-12 col-md-6 ins-left">
                            <div class="main-image">
                              <img src="${item.image}">
                            </div>
                          </div>
                          <div class="col-xs-12 col-sm-12 col-md-6 ins-right">
                            <div class="main-cont">
                                <div class="main-full">
                                  <div class="title">
                                    <img src="${item.avatar_author}">
                                    <span class="nickname">${item.author_instagram}</span>
                                  </div>
                                  <div class="divider"></div>
                                  <div class="desc">${item.caption_instagram}</div>

                                  <div class="product-items">
                                          <div class="product-title">Sáº¢N PHáº¨M LIĂN QUAN</div>`;

        item.related_products.forEach(function(product, i) {
            if (i <= 1) {
                content += `<div class="thumbnail">
                                              <div class="cont-item"><a href="${product.linkToBuy}"><img src="${product.productImage}"></a></div>
                                              <div class="caption">
                                                <h3 class="name"><a href="${product.linkToBuy}">${product.productName}</a></h3>                                                
                                              </div>
                                          </div>`;
            }
        });

        content += `</div>
                                  </div>
                                </div>  
                            </div>
                          </div>`;

        $('.templatePopupIns').slick('slickAdd', content);
    }

    //------------------------------------------------------------------------------------------------------------

    function GetDataHomeLoadMore(page, limitIns, limitNews) {
        var data = {};
        data = {
            action: "loadmorenewfeed",
            paged: page, // default 2
            limit_ins: limitIns, // default 12
            limit_news: limitNews // default 4
        };

        return data;
    }

    //------------------------------------------------------------------------------------------------------------
    var homeLoadMoreVar = {
        isLoading: false,
        isLastPage: false,
        limitIns: 9,
        limitNews: 4,
        currentPage: 2,
        isLoading_ins: false,
        isLastPage_ins: false,
        currentPage_ins: 2,
        isLoading_news: false,
        isLastPage_news: false,
        currentPage_news: 2,
        currentIdx_news: 0
    };

    function AjaxHomeLoadMore() {
        homeLoadMoreVar.isLoading = true;
        $('.load-more-icon').show();

        var dataFilter = GetDataHomeLoadMore(homeLoadMoreVar.currentPage, homeLoadMoreVar.limitIns, homeLoadMoreVar.limitNews);

        $.ajax({
            type: 'GET',
            url: url,
            global: false,
            data: dataFilter,
            success: function(response) {
                //Do Something              
                if (response.instagram.length > 0 || response.news.length > 0) {
                    renderHTMLInstagramNews(response, false);
                    homeLoadMoreVar.currentPage++;
                    homeLoadMoreVar.isLastPage = false;
                } else {
                    homeLoadMoreVar.isLastPage = true;
                }

                if (!homeLoadMoreVar.isLastPage) {
                    $('.home-instagram .btn-load-more').show();
                }
                $('.load-more-icon').hide();
                homeLoadMoreVar.isLoading = false;
            },
            error: function(xhr) {
                // Do Something to handle error
                // if (dummyData.instagram.length > 0 || dummyData.news.length > 0)
                // {
                //     renderHTMLInstagramNews(dummyData);
                //     homeLoadMoreVar.currentPage++;
                //     homeLoadMoreVar.isLastPage = false;
                // }
                // else
                // {
                //     homeLoadMoreVar.isLastPage = true;
                // }

                // if (homeLoadMoreVar.currentPage > 3)
                // {
                //     homeLoadMoreVar.isLastPage = true;
                // }

                // if (!homeLoadMoreVar.isLastPage)
                // {
                //     $('.home-instagram .btn-load-more').show();
                // }

                $('.load-more-icon').hide();
                homeLoadMoreVar.isLoading = false;
            }
        });
    }

    function AjaxHomeLoadMoreMobile(loadInsOnly) {
        var dataFilter;
        if (loadInsOnly) {
            homeLoadMoreVar.isLoading_ins = true;
            $('.load-more-icon-ins').show();

            dataFilter = GetDataHomeLoadMore(homeLoadMoreVar.currentPage_ins, homeLoadMoreVar.limitIns, homeLoadMoreVar.limitNews);
        } else {

            homeLoadMoreVar.isLoading_news = true;
            $('.load-more-icon-news').show();

            dataFilter = GetDataHomeLoadMore(homeLoadMoreVar.currentPage_news, homeLoadMoreVar.limitIns, homeLoadMoreVar.limitNews);
        }

        $.ajax({
            type: 'GET',
            url: url,
            global: false,
            data: dataFilter,
            success: function(response) {
                //Do Something
                if (loadInsOnly) {
                    if (response.instagram.length > 0) {
                        renderHTMLInstagramNews(response, true, true);
                        homeLoadMoreVar.currentPage_ins++;
                        homeLoadMoreVar.isLastPage_ins = false;
                        $('.home-instagram #btnMoreIns').show();
                    } else {
                        homeLoadMoreVar.isLastPage_ins = true;
                    }
                    $('.load-more-icon-ins').hide();
                    homeLoadMoreVar.isLoading_ins = false;
                } else {
                    if (response.news.length > 0) {
                        renderHTMLInstagramNews(response, true, false);
                        homeLoadMoreVar.currentPage_news++;
                        homeLoadMoreVar.isLastPage_news = false;
                        $('.home-instagram #btnMoreNews').show();
                    } else {
                        homeLoadMoreVar.isLastPage_news = true;
                    }
                    $('.load-more-icon-news').hide();
                    homeLoadMoreVar.isLoading_news = false;
                }
            },
            error: function(xhr) {
                // Do Something to handle error
                // if (loadInsOnly)
                // {
                //     if (dummyData.instagram.length > 0)
                //     {
                //       renderHTMLInstagramNews(dummyData, true, true);
                //       homeLoadMoreVar.currentPage_ins++;
                //       homeLoadMoreVar.isLastPage_ins = false;
                //       $('.home-instagram #btnMoreIns').show();
                //     }
                //     else
                //     {
                //       homeLoadMoreVar.isLastPage_ins = true;
                //     }
                //     $('.load-more-icon-ins').hide();
                //     homeLoadMoreVar.isLoading_ins = false;
                // }
                // else
                // {
                //     if (dummyData.news.length > 0)
                //     {
                //       renderHTMLInstagramNews(dummyData, true, false);
                //       homeLoadMoreVar.currentPage_news++;
                //       homeLoadMoreVar.isLastPage_news = false;
                //       $('.home-instagram #btnMoreNews').show();
                //     }
                //     else
                //     {
                //       homeLoadMoreVar.isLastPage_news = true;
                //     }
                //     $('.load-more-icon-news').hide();
                //     homeLoadMoreVar.isLoading_news = false;    
                // }
                homeLoadMoreVar.isLoading_ins = false;
                homeLoadMoreVar.isLoading_news = false;
                $('.load-more-icon-ins').hide();
                $('.load-more-icon-news').hide();
            }
        });
    }

    //------------------------------------------------------------------------------------------------------------  

    function renderHTMLInstagramNews(data, isMobile, loadInsOnly) {
        var htmlInstagram = '';
        var htmlNews = '';

        if (isMobile) {
            if (loadInsOnly) {
                // render Instagram only
                data.instagram.forEach(function(item, i) {
                    var idx = (homeLoadMoreVar.currentPage_ins - 1) * homeLoadMoreVar.limitIns + i;
                    htmlInstagram += `<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 instagram-item">
                                    <a data-id="` + idx + `"><img src="` + item.image + `"></a>
                                </div>`;
                });
                AjaxHomeLoadMorePopupIns();
                if (data.instagram.length > 0) {
                    $(htmlInstagram).hide().appendTo(".home-instagram .instagram-list").fadeIn(1000);
                    RegisterClickEvent();
                }
            } else {
                // render News only
                data.news.forEach(function(item) {
                    htmlNews += `<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 post-item">
                                <a href="` + item.linkNews + `"><img src="` + item.image + `"></a>
                                <h3 class="post-title"><a href="` + item.linkNews + `">` + item.title + `</a></h3>
                                <h3 class="post-des">` + item.excerpt + `</h3>
                                <h3 class="post-detail"><a href="` + item.linkNews + `">Äá»c thĂªm</a></h3>
                            </div>`;

                    // if ((homeLoadMoreVar.currentIdx_news+1) % 2 == 0)
                    // {
                    //   htmlNews +=  '<div class="item-break"></div>';
                    // }
                });
                if (data.news.length > 0) {
                    $(htmlNews).hide().appendTo(".home-instagram .news-list").fadeIn(1000);
                }
            }
        } else {
            AjaxHomeLoadMorePopupIns();
            data.instagram.forEach(function(item, i) {
                var idx = (homeLoadMoreVar.currentPage - 1) * homeLoadMoreVar.limitIns + i;
                htmlInstagram += `<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 instagram-item">
                                  <a data-id="` + idx + `"><img src="` + item.image + `"></a>
                              </div>`;
            });

            data.news.forEach(function(item) {
                htmlNews += `<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 post-item">
                              <a href="` + item.linkNews + `"><img src="` + item.image + `"></a>
                              <h3 class="post-title"><a href="` + item.linkNews + `">` + item.title + `</a></h3>
                              <h3 class="post-des">` + item.excerpt + `</h3>
                              <h3 class="post-detail"><a href="` + item.linkNews + `">Äá»c thĂªm</a></h3>
                          </div>`;
            });

            if (data.instagram.length > 0) {
                $(htmlInstagram).hide().appendTo(".home-instagram .instagram-list").fadeIn(1000);
                RegisterClickEvent();
            }

            if (data.news.length > 0) {
                $(htmlNews).hide().appendTo(".home-instagram .news-list").fadeIn(1000);
            }
        }
    }

    //------------------------------------------------------------------------------------------------------------

    // Run on PC    
    $('.home-instagram #btnMoreInsNews').click(function(e) {
        e.preventDefault();
        // Call ajax loadmore
        if (homeLoadMoreVar.isLoading) return;

        $('.home-instagram #btnMoreInsNews').hide();
        if (!homeLoadMoreVar.isLastPage) {
            AjaxHomeLoadMore();
        }
    });

    // Run on Mobile
    $('.home-instagram #btnMoreIns').click(function(e) {
        e.preventDefault();
        if (homeLoadMoreVar.isLoading_ins) return;

        $('.home-instagram #btnMoreIns').hide();
        if (!homeLoadMoreVar.isLastPage_ins) {
            AjaxHomeLoadMoreMobile(true);
        }
    });

    $('.home-instagram #btnMoreNews').click(function(e) {
        e.preventDefault();
        if (homeLoadMoreVar.isLoading_news) return;

        $('.home-instagram #btnMoreNews').hide();
        if (!homeLoadMoreVar.isLastPage_news) {
            AjaxHomeLoadMoreMobile(false);
        }
    });

});